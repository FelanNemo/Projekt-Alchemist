<!doctype html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<script src="jquery-3.2.0.min.js"></script>
	<link rel="stylesheet" href="style.css">
	<script>
	/*
	Ajax Request zum abfragen ob der Button "Spiel laden" aktive sein darf.
	Ist kein savegame.json vorhanden muss der button Spielladen ausgegraut sein.
	Der Request ist ein Getrequest, da einfach nur abgefragt wird ob die Datei vorhanden ist.
	Als Antwort erh√§lt der Request true oder false; ture wenn die Datei vorhanden ist, false wenn nicht.
	*/
	$.ajax({
	url:'http://127.0.0.1:12345/button',
	method:'GET'
	}).done( function(res){
			if(res.file == true){
				$('#countinueGame').prop('disabled',false);
			} else{
			$('#countinueGame').prop('disabled',true);
			}
	}).fail(function(response) {
		console.log('Error: ', arguments);
	});

	/*
	In Document on ready werden die beiden Button auf die gleiche Breite gebracht
	var w ist die Breite des Button "Neues Spiel" + padding*2(20px*2) + border*2(1*2px)
	*/
	$(document).ready(function(){
		var w = $('#newGame').width() + 42*1;
		$('form').css({'width': w});
		$('button').css({'width': w});
	});

	/*
	Die Buttons sind in einem Fom Tag dadurch muss bei sumbmit genauso wie bei dem Klick verhindert werden
	dass sie sich wie normal verhalten.
	Auf den Klick zum jeweiligen Button kommt man entweder zum user oder zum game
	*/
	$(document).on('submit','#game', function(e){
		e.preventDefault();

		$(document).on('click', '#newGame', function(e){
			e.preventDefault();
			window.location.href='http://127.0.0.1:12345/user';
		});

		$(document).on('click', '#countinueGame',function(e) {
			e.preventDefault();
			window.location.href='http://127.0.0.1:12345/game';
		});
	});

	</script>
</head>
<body>
	<form id="game">
		<button id="newGame">Neues Spiel</button><br>
		<button id="countinueGame"> Spiel laden </button>
	</form>
</body>
</html>
